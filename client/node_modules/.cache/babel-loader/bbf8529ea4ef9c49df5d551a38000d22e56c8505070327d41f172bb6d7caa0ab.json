{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.websocketWrapper = void 0;\nvar websocketWrapper = function (webSocket, start) {\n  return new Proxy(webSocket, {\n    get: function (obj, key) {\n      var val = obj[key];\n      if (key === 'reconnect') return start;\n      if (typeof val === 'function') {\n        console.error('Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket.');\n        //Prevent error thrown by invoking a non-function\n        return function () {};\n      } else {\n        return val;\n      }\n    },\n    set: function (obj, key, val) {\n      if (/^on/.test(key)) {\n        console.warn('The websocket\\'s event handlers should be defined through the options object passed into useWebSocket.');\n        return false;\n      } else {\n        obj[key] = val;\n        return true;\n      }\n    }\n  });\n};\nexports.websocketWrapper = websocketWrapper;\nexports.default = exports.websocketWrapper;","map":{"version":3,"names":["websocketWrapper","webSocket","start","Proxy","get","obj","key","val","console","error","set","test","warn","exports","default"],"sources":["C:\\Users\\Jamari\\Documents\\Hobbies\\Coding\\draftlol\\client\\node_modules\\react-use-websocket\\src\\lib\\proxy.ts"],"sourcesContent":["import { MutableRefObject } from 'react';\r\n\r\ntype IfEquals<X, Y, A=X, B=never> =\r\n  (<T>() => T extends X ? 1 : 2) extends\r\n  (<T>() => T extends Y ? 1 : 2) ? A : B;\r\n\r\ntype WritableKeys<T> = {\r\n  [P in keyof T]-?: IfEquals<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, P>\r\n}[keyof T];\r\n\r\nexport const websocketWrapper = (\r\n  webSocket: WebSocket,\r\n  start: MutableRefObject<() => void>,\r\n): WebSocket => {\r\n\r\n  return new Proxy<WebSocket>(webSocket, {\r\n    get: (obj, key: keyof WebSocket) => {\r\n      const val = obj[key];\r\n      if ((key as any) === 'reconnect') return start;\r\n      if (typeof val === 'function') {\r\n        console.error('Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket.');\r\n        \r\n        //Prevent error thrown by invoking a non-function\r\n        return () => {};\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    set: <T extends WritableKeys<WebSocket>>(obj: WebSocket, key: T, val: WebSocket[T]) => {\r\n      if (/^on/.test(key)) {\r\n        console.warn('The websocket\\'s event handlers should be defined through the options object passed into useWebSocket.')\r\n        return false;\r\n      } else {\r\n        obj[key] = val;\r\n        return true;\r\n      }\r\n    },\r\n  });\r\n};\r\n\r\nexport default websocketWrapper;\r\n"],"mappings":";;;;;;AAUO,IAAMA,gBAAgB,GAAG,SAAAA,CAC9BC,SAAoB,EACpBC,KAAmC;EAGnC,OAAO,IAAIC,KAAK,CAAYF,SAAS,EAAE;IACrCG,GAAG,EAAE,SAAAA,CAACC,GAAG,EAAEC,GAAoB;MAC7B,IAAMC,GAAG,GAAGF,GAAG,CAACC,GAAG,CAAC;MACpB,IAAKA,GAAW,KAAK,WAAW,EAAE,OAAOJ,KAAK;MAC9C,IAAI,OAAOK,GAAG,KAAK,UAAU,EAAE;QAC7BC,OAAO,CAACC,KAAK,CAAC,+HAA+H,CAAC;QAE9I;QACA,OAAO,aAAO,CAAC;OAChB,MAAM;QACL,OAAOF,GAAG;;IAEd,CAAC;IACDG,GAAG,EAAE,SAAAA,CAAoCL,GAAc,EAAEC,GAAM,EAAEC,GAAiB;MAChF,IAAI,KAAK,CAACI,IAAI,CAACL,GAAG,CAAC,EAAE;QACnBE,OAAO,CAACI,IAAI,CAAC,wGAAwG,CAAC;QACtH,OAAO,KAAK;OACb,MAAM;QACLP,GAAG,CAACC,GAAG,CAAC,GAAGC,GAAG;QACd,OAAO,IAAI;;IAEf;GACD,CAAC;AACJ,CAAC;AA5BYM,OAAA,CAAAb,gBAAgB,GAAAA,gBAAA;AA8B7Ba,OAAA,CAAAC,OAAA,GAAeD,OAAA,CAAAb,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}